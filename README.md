
2. Основные сущности:
- Книги
- Читатели
- Выдачи книг
- Сотрудники библиотеки (опционально)

3. Функциональные требования:

3.1. Управление книгами:
- Добавление новой книги
- Редактирование информации о книге
- Удаление книги
- Поиск книг по различным параметрам
- Просмотр списка всех книг
- Отображение статуса книги (доступна, недоступна, на руках, зарезервирована, на обслуживании)

Атрибуты книги:
- ID
- Название
- Автор
- Год издания
- ISBN
- Жанр
- Количество экземпляров
- Статус 

3.2. Управление читателями:
- Регистрация нового читателя
- Редактирование данных читателя
- Удаление читателя
- Поиск читателей
- Просмотр истории выдач читателя

Атрибуты читателя:
- ID
- ФИО
- Дата рождения
- Адрес
- Телефон
- Email
- Номер читательского билета

3.3. Управление выдачей книг:
- Оформление выдачи книги
- Регистрация возврата книги
- Продление срока выдачи
- Просмотр списка выданных книг
- Контроль сроков возврата
- Формирование списка должников

4. Технические требования:

4.1. Хранение данных:
- Использование базы данных (например, MySQL, PostgreSQL или SQLite)
- Обеспечение целостности данных

4.2. Интерфейс:
- Графический пользовательский интерфейс (GUI)
- Интуитивно понятная навигация
- Формы для ввода данных
- Таблицы для отображения информации
- Поисковые формы

5. Дополнительный функционал (опционально):
- Система авторизации пользователей
- Разграничение прав доступа
- Формирование отчетов
- Статистика по выдачам
- Система уведомлений о просрочках
- Резервирование книг
- Экспорт данных в различные форматы
- QR-коды для книг
- Интеграция с электронным каталогом

6. Требования к безопасности:
- Защита от несанкционированного доступа
- Валидация вводимых данных
- Резервное копирование данных

7. Требования к документации:
- Руководство пользователя
- Техническая документация
- Описание структуры базы данных

8. Ограничения и правила:
- Максимальное количество книг на руках у одного читателя
- Стандартный срок выдачи книг
- Штрафы за просрочку (опционально)

9. Отчетность:
- Формирование списка книг
- Формирование списка читателей
- Отчет по выданным книгам
- Отчет по должникам
- Статистические отчеты


Для выполнения данного Технического Задания (ТЗ) необходимо реализовать API, которое будет включать три основные модуля: **управление книгами**, **управление читателями** и **управление выдачей книг**. Ниже приводится полный список методов API, а также описание связей между сущностями.

---

### 1. **Управление книгами**

#### 1.1. Методы API:

1. **Добавление новой книги**  
   - **POST /books**  
     Создание новой книги с указанными атрибутами.

2. **Редактирование информации о книге**  
   - **PUT /books/{id}**  
     Изменение данных книги (например, название, автор, статус и т.д.).

3. **Удаление книги**  
   - **DELETE /books/{id}**  
     Удаление книги по её уникальному идентификатору.

4. **Поиск книг по различным параметрам**  
   - **GET /books/search**  
     Поиск книг по фильтрам: название, автор, жанр, год издания, статус и т.д. Параметры поиска передаются через query-параметры.

5. **Просмотр списка всех книг**  
   - **GET /books**  
     Получение списка всех книг с возможностью фильтрации и пагинацией.

6. **Отображение статуса книги**  
   - **GET /books/{id}/status**  
     Получение текущего статуса книги: *доступна*, *недоступна*, *на руках*, *зарезервирована*, *на обслуживании*.

---

#### 1.2. Атрибуты книги:

- `id` (уникальный идентификатор)
- `title` (название)
- `author` (автор)
- `publication_year` (год издания)
- `isbn` (ISBN)
- `genre` (жанр)
- `copies` (количество экземпляров)
- `status` (статус: доступна, недоступна и т.д.)

---

### 2. **Управление читателями**

#### 2.1. Методы API:

1. **Регистрация нового читателя**  
   - **POST /readers**  
     Создание новой записи о читателе.

2. **Редактирование данных читателя**  
   - **PUT /readers/{id}**  
     Изменение данных читателя (например, адрес, телефон и т.д.).

3. **Удаление читателя**  
   - **DELETE /readers/{id}**  
     Удаление читательской записи.

4. **Поиск читателей**  
   - **GET /readers/search**  
     Поиск читателей по различным параметрам (например, ФИО, номер читательского билета).

5. **Просмотр истории выдач читателя**  
   - **GET /readers/{id}/history**  
     Просмотр всех книг, которые читатель брал, их статусов и дат возврата.

---

#### 2.2. Атрибуты читателя:

- `id` (уникальный идентификатор)
- `full_name` (ФИО)
- `date_of_birth` (дата рождения)
- `address` (адрес)
- `phone` (номер телефона)
- `email` (электронная почта)
- `library_card_number` (номер читательского билета)

---

### 3. **Управление выдачей книг**

#### 3.1. Методы API:

1. **Оформление выдачи книги**  
   - **POST /loans**  
     Создание записи о выдаче книги. Указывается ID книги, ID читателя, дата выдачи и срок возврата.

2. **Регистрация возврата книги**  
   - **PUT /loans/{id}/return**  
     Обновление записи о выдаче: пометка, что книга возвращена (с указанием даты возврата).

3. **Продление срока выдачи**  
   - **PUT /loans/{id}/extend**  
     Увеличение срока возврата книги.

4. **Просмотр списка выданных книг**  
   - **GET /loans**  
     Получение списка всех выданных книг с фильтрацией по читателям, статусу и срокам возврата.

5. **Контроль сроков возврата**  
   - **GET /loans/overdue**  
     Получение списка всех просроченных книг (по сроку возврата).

6. **Формирование списка должников**  
   - **GET /readers/debtors**  
     Получение списка читателей, которые не вернули книги в срок.

---

#### 3.2. Атрибуты выдачи:

- `id` (уникальный идентификатор записи о выдаче)
- `book_id` (ID книги)
- `reader_id` (ID читателя)
- `issue_date` (дата выдачи)
- `due_date` (срок возврата)
- `return_date` (дата возврата, если книга возвращена)
- `status` (статус выдачи: активна, возвращена, просрочена)

---

### 4. **Связи между сущностями**

1. **Книга и Читатель**:
   - Связь *многие ко многим* через сущность "Выдача книг" (`Loan`):  
     Один читатель может брать несколько книг, и одна книга может быть выдана нескольким читателям в разное время.

2. **Книга и Выдача**:
   - Связь *один ко многим*:  
     Одна книга может быть выдана несколько раз (разные записи в таблице "Выдача").

3. **Читатель и Выдача**:
   - Связь *один ко многим*:  
     Один читатель может иметь несколько записей о выдаче книг.

---

### 5. **Структура базы данных**

#### Таблица `books` (Книги):
- `id` (PK)
- `title`
- `author`
- `publication_year`
- `isbn`
- `genre`
- `copies`
- `status`

#### Таблица `readers` (Читатели):
- `id` (PK)
- `full_name`
- `date_of_birth`
- `address`
- `phone`
- `email`
- `library_card_number`

#### Таблица `loans` (Выдача книг):
- `id` (PK)
- `book_id` (FK -> books.id)
- `reader_id` (FK -> readers.id)
- `issue_date`
- `due_date`
- `return_date`
- `status` (активна, возвращена, просрочена)

---

### 6. **Пример взаимодействия между методами**

1. **Добавление книги**  
   Администратор добавляет книгу через `POST /books`.

2. **Регистрация читателя**  
   Администратор регистрирует читателя через `POST /readers`.

3. **Выдача книги**  
   При выдаче книги создаётся запись через `POST /loans`, статус книги обновляется на *на руках*.

4. **Возврат книги**  
   При возврате книги вызывается `PUT /loans/{id}/return`, статус книги меняется на *доступна*.

5. **Просрочка возврата**  
   Метод `GET /loans/overdue` позволяет контролировать просроченные возвраты.

---

Эти методы и связи обеспечивают выполнение всех требований ТЗ.